(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{201:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',nameColor:"#5d5d5d",nameHoverColor:"#1e1e1e",red:"#c7332f",borderColor:"#f5f5f5",root:"src-components-Tabs-style-module__root--3fRmN",tab:"src-components-Tabs-style-module__tab--272u3",active:"src-components-Tabs-style-module__active--8H5oe"}},202:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',red:"#c7332f",grey:"#7d7d7d",nameColor:"#5d5d5d",root:"src-pages-SonglistDetail-BasicInfo-style-module__root--2FbKN",pic:"src-pages-SonglistDetail-BasicInfo-style-module__pic--3fOrg",info:"src-pages-SonglistDetail-BasicInfo-style-module__info--xwjsb",title:"src-pages-SonglistDetail-BasicInfo-style-module__title--31l-6",tag:"src-pages-SonglistDetail-BasicInfo-style-module__tag--16R-Z",name:"src-pages-SonglistDetail-BasicInfo-style-module__name--3xenl",creator:"src-pages-SonglistDetail-BasicInfo-style-module__creator--1ZBEx",avatar:"src-pages-SonglistDetail-BasicInfo-style-module__avatar--1EeJO",operations:"src-pages-SonglistDetail-BasicInfo-style-module__operations--fivMP",btn:"src-pages-SonglistDetail-BasicInfo-style-module__btn--2IiAA",detail:"src-pages-SonglistDetail-BasicInfo-style-module__detail--3_0qB",label:"src-pages-SonglistDetail-BasicInfo-style-module__label--3x70u"}},203:function(e,t,n){e.exports={root:"src-pages-SonglistDetail-style-module__root--BPlvP",tabs:"src-pages-SonglistDetail-style-module__tabs--2ns22"}},233:function(e,t,n){"use strict";n.r(t);var a=n(60),r=n(9),o=n.n(r),c=n(7),l=n.n(c),s=n(0),i=n.n(s),u=n(10),d=n(46),m=n.n(d),p=n(54),f=n(201),v=n.n(f),b=i.a.useState,y=function(e){var t=e.tabs,n=b(null==t?void 0:t[0].key),a=l()(n,2),r=a[0],o=a[1];return i.a.createElement("div",{className:v.a.root},t.map((function(e){var t=e.label,n=e.key,a=e.renderLabel,c=e.onClick,l=void 0===c?p.b:c;return i.a.createElement("div",{key:n,className:m()(v.a.tab,r===n&&v.a.active),onClick:function(){o(n),l(n)}},t||a&&a())})))},g=n(82),h=n(58),w=n(68),E=n(202),O=n.n(E),_=function(e){var t,n,a=e.data,r=e.onPlayAll;return i.a.createElement("div",{className:O.a.root},i.a.createElement("div",{className:O.a.pic},(null==a?void 0:a.coverImgUrl)&&i.a.createElement("img",{src:null==a?void 0:a.coverImgUrl,className:"cover",loading:"lazy"})),i.a.createElement("div",{className:O.a.info},i.a.createElement("div",{className:O.a.title},i.a.createElement("div",{className:O.a.tag},"歌单"),i.a.createElement("div",{className:O.a.name},null==a?void 0:a.name)),i.a.createElement("div",{className:O.a.creator},i.a.createElement("div",{className:O.a.avatar},(null==a||null===(t=a.creator)||void 0===t?void 0:t.avatarUrl)&&i.a.createElement("img",{src:"".concat(null==a||null===(n=a.creator)||void 0===n?void 0:n.avatarUrl,"?param=25y25"),loading:"lazy"})),i.a.createElement("div",{className:O.a.name},null==a?void 0:a.creator.nickname),i.a.createElement("div",null,Object(h.a)(null==a?void 0:a.createTime),"创建")),i.a.createElement("div",{className:O.a.operations},i.a.createElement("div",{className:O.a.btn,onClick:function(){return r(!0)}},"播放全部")),i.a.createElement("div",{className:O.a.detail},i.a.createElement("div",null,i.a.createElement("span",{className:O.a.label},"标签: "),(null==a?void 0:a.tags.join(" / "))||"--"),i.a.createElement("div",null,i.a.createElement("span",{className:O.a.label},"歌曲数: "),null==a?void 0:a.trackCount,"  ",i.a.createElement("span",{className:O.a.label},"播放数: "),Object(w.a)(null==a?void 0:a.playCount)),i.a.createElement("div",null,i.a.createElement("span",{className:O.a.label},"简介: "),(null==a?void 0:a.description)||"--"))))},j=n(52),k=n(19),N=n(80),S=n(8),x=n(203),D=n.n(x);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var I=i.a.useEffect,C=i.a.useContext,M=[{label:"歌曲列表",key:"songlist"},{label:"评论",key:"comment"}];t.default=function(){var e=C(S.c),t=Object(u.i)().songlistId,n=Object(j.a)(N.a.getSonglistDetail),r=l()(n,2),c=r[0],s=r[1],d=c.value,m=c.loading,p=null==d?void 0:d.songs;I((function(){s(Number(t))}),[t]);var f=function(t){var n=p.map((function(e){return Object(k.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{duration:e.duration/1e3}))}));e({type:S.a.SET_PLAY_LIST,payload:{playList:n}}),t&&e({type:S.a.PLAY,payload:{musicId:n[0].id,music:n[0]}})};return i.a.createElement("div",{className:D.a.root},m?i.a.createElement(a.a,{className:"spinner"}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:D.a.basicInfo},i.a.createElement(_,{data:null==d?void 0:d.songlist,onPlayAll:f})),i.a.createElement("div",{className:D.a.content},i.a.createElement("div",{className:D.a.tabs},i.a.createElement(y,{tabs:M})),i.a.createElement(g.a,{data:p,onPlayAll:f}))))}},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var a=n(67),r=n.n(a),o=n(61),c=n(72).a.create({className:"mo-toaster",position:o.a.TOP_RIGHT}),l="http://".concat(""),s="json",i=function(){var e=r.a.create({baseURL:l,withCredentials:!0,timeout:4e4,responseType:s});return e.interceptors.response.use(u,d),e},u=function(e){return e.data},d=function(e){var t=e.response,n=e.message;return Promise.reject(t?new Error(t.data.message||n):e)},m=i(),p=i();p.interceptors.response.use(void 0,(function(e){var t,n=e.response,a=e.message;return c.show({message:(null==n||null===(t=n.data)||void 0===t?void 0:t.message)||a}),Promise.reject(e)}));t.a=p},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(7),r=n.n(a),o=n(0);function c(){var e=Object(o.useRef)(!1),t=Object(o.useCallback)((function(){return e.current}),[]);return Object(o.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),t}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deps:[],initialState:{loading:!1}},n=t.initialState,a=void 0===n?{loading:!1}:n,l=t.deps,s=void 0===l?[]:l,i=t.successHandler,u=t.errorHandler,d=Object(o.useRef)(0),m=Object(o.useState)(a),p=r()(m,2),f=p[0],v=p[1],b=c(),y=Object(o.useCallback)((function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=++d.current;return v({loading:!0}),e.apply(void 0,n).then((function(e){var t=n[n.length-1];return b()&&r===d.current&&(i&&i(e),"function"==typeof t&&t(),v({value:e,loading:!1})),e}),(function(e){return b()&&r===d.current&&(u&&u(e),v({error:e,loading:!1})),null}))}),s);return[f,y]}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(){},r=function(e,t,n){var a=null;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var c=this;a&&clearTimeout(a),a=setTimeout((function(){e.apply(c,r)}),t)}}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var a=1,r=100,o=0},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s}));var a=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString().length;n<t;)e="0"+e,n++;return e},r=function(e){e=Math.floor(e||0);var t=a(Math.floor(e/60)),n=a(e%60);return"".concat(t,":").concat(n)},o=function(e,t){var n=new Date(e||0),r=n.getFullYear(),o=a(n.getMonth()+1),c=a(n.getDate()),l=a(n.getHours()),s=a(n.getMinutes()),i=a(n.getSeconds());return t?"".concat(r,"-").concat(o,"-").concat(c," ").concat(l,":").concat(s,":").concat(i):"".concat(r,"-").concat(o,"-").concat(c)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e||0);return a(t.getDate())},l=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e||0);return l[t.getDay()]}},66:function(e,t,n){"use strict";var a=n(48),r=n.n(a),o=n(49),c=n.n(o),l=n(50),s=function(){var e=c()(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({url:"/album",params:{id:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={getAlbum:s}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="";if(e>Math.pow(10,8))t=(e/Math.pow(10,8)).toFixed(3)+"亿";else{if(!(e>Math.pow(10,4)))return e;t=Math.round(e/Math.pow(10,4))+"万"}return t}},70:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(54),c=n(71),l=n.n(c);t.a=function(e){var t=e.showHeader,n=void 0===t||t,a=e.columns,c=e.data,s=e.onDoubleClick,i=void 0===s?o.b:s;return r.a.createElement("div",{className:l.a.root},n&&r.a.createElement("div",{className:l.a.header},a.map((function(e,t){var n=e.title,a=e.width;return r.a.createElement("div",{key:t,style:{width:a}},n)}))),(null==c?void 0:c.length)?r.a.createElement("div",{className:l.a.content},null==c?void 0:c.map((function(e,t){return r.a.createElement("div",{className:l.a.row,key:t,onDoubleClick:function(){return i(e)}},a.map((function(n,a){var o=n.key,c=n.width,l=n.render;return r.a.createElement("div",{key:a,style:{width:c}},l(e[o],e,t))})))}))):r.a.createElement("div",{className:l.a.empty},"暂无数据喔"))}},71:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',tipsHoverColor:"#7c7c7c",bgColor:"#f2f2f3",root:"src-components-Table-style-module__root--2Cmkj",header:"src-components-Table-style-module__header--2bK6b",content:"src-components-Table-style-module__content--yVmxs",row:"src-components-Table-style-module__row--2h8Wc",empty:"src-components-Table-style-module__empty--2glIo"}},80:function(e,t,n){"use strict";var a=n(48),r=n.n(a),o=n(49),c=n.n(o),l=n(50),s=n(19),i=n(57),u=function(){var e=c()(r.a.mark((function e(t){var n,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({url:"/playlist/detail",params:{id:t}});case 2:return o=e.sent,c=[],null==o||null===(n=o.playlist)||void 0===n||null===(a=n.tracks)||void 0===a||a.forEach((function(e){var t=Object(s.b)(e);c.push(t)})),e.abrupt("return",{songlist:o.playlist,songs:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=c()(r.a.mark((function e(t){var n,a,o,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cat,a=t.order,o=t.limit,c=void 0===o?i.b:o,s=t.offset,e.next=3,Object(l.a)({url:"/top/playlist",params:{cat:n,order:a,limit:c,offset:s}});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=c()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({url:"/playlist/catlist"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=c()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({url:"/playlist/hot"});case 2:return t=e.sent,e.abrupt("return",t.tags);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=c()(r.a.mark((function e(){var t,n,a,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"全部",e.next=3,Object(l.a)({url:"/top/playlist/highquality",params:{limit:1,cat:n}});case 3:return a=e.sent,e.abrupt("return",null==a||null===(t=a.playlists)||void 0===t?void 0:t[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=c()(r.a.mark((function e(t){var n,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({url:"/user/playlist",params:{uid:t,limit:i.b}});case 2:return n=e.sent,a=n.playlist||[],o=a.filter((function(e){var n=e.creator;return t===n.userId})),c=a.filter((function(e){var n=e.creator;return t!==n.userId})),e.abrupt("return",{create:o,collect:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={getSonglistDetail:u,getSonglists:d,getSonglistCats:m,getSonglistHotCats:p,getHighQualitySonglist:f,getUserSonglist:v}},82:function(e,t,n){"use strict";var a=n(48),r=n.n(a),o=n(9),c=n.n(o),l=n(49),s=n.n(l),i=n(47),u=n(0),d=n.n(u),m=n(46),p=n.n(m),f=n(70),v=n(66),b=n(58),y=n(19),g=n(8),h=n(83),w=n.n(h);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=d.a.useContext;t.a=function(e){var t=e.data,n=e.onPlayAll,a=_(g.d),o=_(g.c),c=_(g.b),l=[{title:"",key:"name",width:"100px",render:function(e,t,n){var r;return d.a.createElement("div",{className:w.a.operations},a.musicId===t.id?d.a.createElement("span",{className:w.a.isPlaying},d.a.createElement(i.a,{icon:(null===(r=c.state)||void 0===r?void 0:r.paused)?"volume-off":"volume-up",iconSize:14})):d.a.createElement("span",{className:w.a.index},(n||0)+1),d.a.createElement(i.a,{icon:"heart",iconSize:14}),d.a.createElement(i.a,{icon:"import",iconSize:14}))}},{title:"音乐标题",key:"name",width:"45%",render:function(e,t){var n=t.alias,r=t.id;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:p()(w.a.name,a.musicId===r&&w.a.active)},e),(null==n?void 0:n.length)?d.a.createElement("div",{className:w.a.alias},n.join(" ")):null)}},{title:"歌手",key:"artists",width:"15%",render:function(e){return null==e?void 0:e.map((function(e){return e.name})).join(" / ")}},{title:"专辑",key:"album",width:"20%",render:function(e){return null==e?void 0:e.name}},{title:"时长",key:"duration",width:"10%",render:function(e){return Object(b.b)(e/1e3)}}],u=function(){var e=s()(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.picUrl){e.next=6;break}return e.next=4,v.a.getAlbum(t.album.id);case 4:c=e.sent,a=null==c?void 0:c.album.blurPicUrl;case 6:o({type:g.a.PLAY,payload:{musicId:t.id,music:Object(y.a)(O({},t,{picUrl:a,duration:t.duration/1e3}))}}),n&&n();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement("div",null,d.a.createElement(f.a,{columns:l,data:t,onDoubleClick:u}))}},83:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',tipsColor:"#bababa",tipsHoverColor:"#7c7c7c",red:"#c7332f",alias:"src-components-MusicList-style-module__alias--OyjvX",operations:"src-components-MusicList-style-module__operations--l03Mx",index:"src-components-MusicList-style-module__index--d0Ufc",isPlaying:"src-components-MusicList-style-module__isPlaying--A-Utb",active:"src-components-MusicList-style-module__active--9Jz1_"}}}]);