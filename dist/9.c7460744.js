(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{218:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',borderColor:"#f5f5f5",tipsHoverColor:"#7c7c7c",nameHoverColor:"#1e1e1e",item:"src-pages-Discovery-LatestMusic-Content-style-module__item--b9gNs",index:"src-pages-Discovery-LatestMusic-Content-style-module__index--2cvlJ",musicInfo:"src-pages-Discovery-LatestMusic-Content-style-module__musicInfo--1SSoC",name:"src-pages-Discovery-LatestMusic-Content-style-module__name--35HEc",pic:"src-pages-Discovery-LatestMusic-Content-style-module__pic--OVWMy",playIcon:"src-pages-Discovery-LatestMusic-Content-style-module__playIcon--1H7kR",artists:"src-pages-Discovery-LatestMusic-Content-style-module__artists--2vy8G",album:"src-pages-Discovery-LatestMusic-Content-style-module__album--R5pmc",duration:"src-pages-Discovery-LatestMusic-Content-style-module__duration--xrE65"}},219:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',nameColor:"#5d5d5d",nameHoverColor:"#1e1e1e",red:"#c7332f",root:"src-pages-Discovery-LatestMusic-style-module__root--1q5ud",header:"src-pages-Discovery-LatestMusic-style-module__header--tahrH",playAll:"src-pages-Discovery-LatestMusic-style-module__playAll--f4mY6",tabs:"src-pages-Discovery-LatestMusic-style-module__tabs--2SnqN",tab:"src-pages-Discovery-LatestMusic-style-module__tab--2xNDU",active:"src-pages-Discovery-LatestMusic-style-module__active--3hfnB"}},226:function(e,t,n){"use strict";n.r(t);var r=n(60),a=n(7),c=n.n(a),s=n(0),o=n.n(s),i=n(46),u=n.n(i),l=n(47),m=n(9),p=n.n(m),d=n(64),f=n(58),v=n(19),y=n(8),b=n(218),g=n.n(b);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=o.a.useContext,_=function(e){var t=e.data,n=e.onDoubleClick,r=O(y.d),a=O(y.c),c=O(y.b),s=function(e){var r,c=null==t?void 0:t[e];a({type:y.a.PLAY,payload:{musicId:null==c?void 0:c.id,music:Object(v.a)(h({},c,{duration:(null==c?void 0:c.duration)/1e3,picUrl:(null==c?void 0:c.picUrl)||(null==c||null===(r=c.album)||void 0===r?void 0:r.blurPicUrl)}))}}),n()};return o.a.createElement("div",{className:g.a.root},null==t?void 0:t.map((function(e,t){var n,a=e.id,i=e.name,m=e.artists,p=e.album,v=e.duration,y=e.picUrl,b=r.musicId===a;return o.a.createElement("div",{key:a,className:g.a.item,onDoubleClick:function(){return s(t)}},o.a.createElement("div",{className:u()(g.a.index,b&&"active")},b?o.a.createElement(l.a,{icon:(null===(n=c.state)||void 0===n?void 0:n.paused)?"volume-off":"volume-up",iconSize:15}):o.a.createElement("span",null,t+1)),o.a.createElement("div",{className:g.a.musicInfo},o.a.createElement("div",{className:g.a.pic},o.a.createElement("img",{src:"".concat(y||(null==p?void 0:p.blurPicUrl),"?param=60y60"),className:"cover",loading:"lazy"}),o.a.createElement(d.a,{className:g.a.playIcon})),o.a.createElement("div",{className:u()(g.a.name,b&&"active")},i)),o.a.createElement("div",{className:g.a.artists},m.map((function(e){return e.name})).join(" / ")),o.a.createElement("div",{className:g.a.album},null==p?void 0:p.name),o.a.createElement("div",{className:g.a.duration},Object(f.b)(v/1e3)))})))},w=n(63),N=n(52),j=n(219),D=n.n(j),L=o.a.useEffect,S=o.a.useState,C=o.a.useContext,x=[{label:"全部",type:w.a.ALL},{label:"华语",type:w.a.CHINESE},{label:"欧美",type:w.a.EU_USA},{label:"韩国",type:w.a.KOREAN},{label:"日本",type:w.a.JAPANESE}];t.default=function(){var e=C(y.c),t=S(w.a.ALL),n=c()(t,2),a=n[0],s=n[1],i=Object(N.a)(w.b.getTopSongs),l=c()(i,2),m=l[0],p=l[1];L((function(){p(a)}),[]);var d=function(t){var n,r;(e({type:y.a.SET_PLAY_LIST,payload:{playList:m.value}}),t)&&e({type:y.a.PLAY,payload:{musicId:null===(n=m.value)||void 0===n?void 0:n[0].id,music:null===(r=m.value)||void 0===r?void 0:r[0]}})};return o.a.createElement("div",{className:D.a.root},o.a.createElement("div",{className:D.a.header},o.a.createElement("div",{className:D.a.tabs},x.map((function(e){var t=e.label,n=e.type;return o.a.createElement("div",{key:n,className:u()(D.a.tab,n===a&&D.a.active),onClick:function(){return function(e){s(e),p(e)}(n)}},t)}))),o.a.createElement("div",{className:D.a.operations},o.a.createElement("div",{className:D.a.playAll,onClick:function(){return d(!0)}},"播放全部"))),o.a.createElement("div",{className:D.a.content},m.loading?o.a.createElement(r.a,{className:"spinner"}):o.a.createElement(_,{data:m.value,onDoubleClick:function(){return d(!1)}})))}},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n(67),a=n.n(r),c=n(61),s=n(72).a.create({className:"mo-toaster",position:c.a.TOP_RIGHT}),o="http://".concat(""),i="json",u=function(){var e=a.a.create({baseURL:o,withCredentials:!0,timeout:4e4,responseType:i});return e.interceptors.response.use(l,m),e},l=function(e){return e.data},m=function(e){var t=e.response,n=e.message;return Promise.reject(t?new Error(t.data.message||n):e)},p=u(),d=u();d.interceptors.response.use(void 0,(function(e){var t,n=e.response,r=e.message;return s.show({message:(null==n||null===(t=n.data)||void 0===t?void 0:t.message)||r}),Promise.reject(e)}));t.a=d},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7),a=n.n(r),c=n(0);function s(){var e=Object(c.useRef)(!1),t=Object(c.useCallback)((function(){return e.current}),[]);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deps:[],initialState:{loading:!1}},n=t.initialState,r=void 0===n?{loading:!1}:n,o=t.deps,i=void 0===o?[]:o,u=t.successHandler,l=t.errorHandler,m=Object(c.useRef)(0),p=Object(c.useState)(r),d=a()(p,2),f=d[0],v=d[1],y=s(),b=Object(c.useCallback)((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=++m.current;return v({loading:!0}),e.apply(void 0,n).then((function(e){var t=n[n.length-1];return y()&&a===m.current&&(u&&u(e),"function"==typeof t&&t(),v({value:e,loading:!1})),e}),(function(e){return y()&&a===m.current&&(l&&l(e),v({error:e,loading:!1})),null}))}),i);return[f,b]}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i}));var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString().length;n<t;)e="0"+e,n++;return e},a=function(e){e=Math.floor(e||0);var t=r(Math.floor(e/60)),n=r(e%60);return"".concat(t,":").concat(n)},c=function(e,t){var n=new Date(e||0),a=n.getFullYear(),c=r(n.getMonth()+1),s=r(n.getDate()),o=r(n.getHours()),i=r(n.getMinutes()),u=r(n.getSeconds());return t?"".concat(a,"-").concat(c,"-").concat(s," ").concat(o,":").concat(i,":").concat(u):"".concat(a,"-").concat(c,"-").concat(s)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e||0);return r(t.getDate())},o=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e||0);return o[t.getDay()]}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(48),c=n.n(a),s=n(49),o=n.n(s),i=n(50),u=n(19);!function(e){e[e.ALL=0]="ALL",e[e.CHINESE=7]="CHINESE",e[e.EU_USA=96]="EU_USA",e[e.JAPANESE=8]="JAPANESE",e[e.KOREAN=16]="KOREAN"}(r||(r={}));var l=function(){var e=o()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"/song/detail",params:{ids:t.join(",")}});case 2:return n=e.sent,e.abrupt("return",null==n?void 0:n.songs.map((function(e){return Object(u.b)(e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=o()(c.a.mark((function e(){var t,n,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:r.ALL,e.next=3,Object(i.a)({url:"/top/song",params:{type:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=o()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"/recommend/songs"});case 2:return t=e.sent,e.abrupt("return",t.recommend);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=o()(c.a.mark((function e(t){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.offset,a=t.limit,e.next=3,Object(i.a)({url:"/simi/playlist",params:{id:n,offset:r,limit:a}});case 3:return s=e.sent,e.abrupt("return",s.playlists);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=o()(c.a.mark((function e(t){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.offset,a=t.limit,e.next=3,Object(i.a)({url:"/simi/song",params:{id:n,offset:r,limit:a}});case 3:return s=e.sent,e.abrupt("return",s.songs);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=o()(c.a.mark((function e(t){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.offset,a=t.limit,e.next=3,Object(i.a)({url:"/comment/music",params:{id:n,offset:r,limit:a}});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=o()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"/lyric",params:{id:t}});case 2:return n=e.sent,e.abrupt("return",n.lrc);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.b={getSongDetail:l,getTopSongs:m,getRecommendSongs:p,getSimiSonglist:d,getSimiSong:f,getComments:v,getLyric:y}},64:function(e,t,n){"use strict";var r=n(47),a=n(0),c=n.n(a),s=n(46),o=n.n(s),i=n(69),u=n.n(i);t.a=function(e){var t=e.className;return c.a.createElement("div",{className:o()(u.a.root,t)},c.a.createElement(r.a,{icon:"play"}))}},69:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',red:"#c7332f",root:"src-components-PlayIcon-style-module__root--3MYPr"}}}]);