(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{220:function(e,t,n){"use strict";n.r(t);var r=n(60),a=n(9),c=n.n(a),o=n(7),i=n.n(o),s=n(0),u=n.n(s),l=n(82),d=n(63),m=n(52),p=n(58),f=n(19),v=n(8),y=n(14),b=n(221),g=n.n(b);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=u.a.useEffect,j=u.a.useContext;t.default=function(){var e=j(v.c),t=j(y.c),n=Object(m.a)(d.b.getRecommendSongs),a=i()(n,2),c=a[0],o=a[1],s=t.isLogined;O((function(){s&&o()}),[s]);var b=function(t){if(e({type:v.a.SET_PLAY_LIST,payload:{playList:c.value}}),t){var n,r,a=null===(n=c.value)||void 0===n?void 0:n[0];e({type:v.a.PLAY,payload:{musicId:a.id,music:Object(f.a)(w({},a,{picUrl:null===(r=a.album)||void 0===r?void 0:r.blurPicUrl,duration:a.duration/1e3}))}})}};return u.a.createElement("div",{className:g.a.root},u.a.createElement("div",{className:g.a.header},u.a.createElement("div",{className:g.a.left},u.a.createElement("div",{className:g.a.date},u.a.createElement("div",{className:g.a.weekday},Object(p.d)()),u.a.createElement("div",{className:g.a.day},Object(p.c)())),u.a.createElement("div",{className:g.a.title},u.a.createElement("div",{className:g.a.name},"每日歌曲推荐"),u.a.createElement("div",{className:g.a.tips},"根据你的音乐口味生成，每天6:00更新"))),s&&u.a.createElement("div",{className:"playAll",onClick:function(){return b(!0)}},"播放全部")),s?u.a.createElement("div",{className:g.a.content},c.loading?u.a.createElement(r.a,{className:"spinner"}):u.a.createElement(l.a,{data:c.value||[],onPlayAll:function(){return b()}})):u.a.createElement("div",{className:g.a.needLogin},"请先登录喔~"))}},221:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',red:"#c7332f",borderColor:"#f5f5f5",nameColor:"#5d5d5d",root:"src-pages-Discovery-RecommendDaily-style-module__root--1Katx",header:"src-pages-Discovery-RecommendDaily-style-module__header--2TxJP",left:"src-pages-Discovery-RecommendDaily-style-module__left--2v2Jt",date:"src-pages-Discovery-RecommendDaily-style-module__date--1bjtx",weekday:"src-pages-Discovery-RecommendDaily-style-module__weekday--8XIlg",day:"src-pages-Discovery-RecommendDaily-style-module__day--2byx0",title:"src-pages-Discovery-RecommendDaily-style-module__title--qglZI",name:"src-pages-Discovery-RecommendDaily-style-module__name--1cvVB",tips:"src-pages-Discovery-RecommendDaily-style-module__tips--38q-N",needLogin:"src-pages-Discovery-RecommendDaily-style-module__needLogin--2uNVp"}},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n(67),a=n.n(r),c=n(61),o=n(72).a.create({className:"mo-toaster",position:c.a.TOP_RIGHT}),i="http://".concat(""),s="json",u=function(){var e=a.a.create({baseURL:i,withCredentials:!0,timeout:4e4,responseType:s});return e.interceptors.response.use(l,d),e},l=function(e){return e.data},d=function(e){var t=e.response,n=e.message;return Promise.reject(t?new Error(t.data.message||n):e)},m=u(),p=u();p.interceptors.response.use(void 0,(function(e){var t,n=e.response,r=e.message;return o.show({message:(null==n||null===(t=n.data)||void 0===t?void 0:t.message)||r}),Promise.reject(e)}));t.a=p},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(7),a=n.n(r),c=n(0);function o(){var e=Object(c.useRef)(!1),t=Object(c.useCallback)((function(){return e.current}),[]);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deps:[],initialState:{loading:!1}},n=t.initialState,r=void 0===n?{loading:!1}:n,i=t.deps,s=void 0===i?[]:i,u=t.successHandler,l=t.errorHandler,d=Object(c.useRef)(0),m=Object(c.useState)(r),p=a()(m,2),f=p[0],v=p[1],y=o(),b=Object(c.useCallback)((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=++d.current;return v({loading:!0}),e.apply(void 0,n).then((function(e){var t=n[n.length-1];return y()&&a===d.current&&(u&&u(e),"function"==typeof t&&t(),v({value:e,loading:!1})),e}),(function(e){return y()&&a===d.current&&(l&&l(e),v({error:e,loading:!1})),null}))}),s);return[f,b]}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(){},a=function(e,t,n){var r=null;return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];var o=this;r&&clearTimeout(r),r=setTimeout((function(){e.apply(o,a)}),t)}}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString().length;n<t;)e="0"+e,n++;return e},a=function(e){e=Math.floor(e||0);var t=r(Math.floor(e/60)),n=r(e%60);return"".concat(t,":").concat(n)},c=function(e,t){var n=new Date(e||0),a=n.getFullYear(),c=r(n.getMonth()+1),o=r(n.getDate()),i=r(n.getHours()),s=r(n.getMinutes()),u=r(n.getSeconds());return t?"".concat(a,"-").concat(c,"-").concat(o," ").concat(i,":").concat(s,":").concat(u):"".concat(a,"-").concat(c,"-").concat(o)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e||0);return r(t.getDate())},i=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e||0);return i[t.getDay()]}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(48),c=n.n(a),o=n(49),i=n.n(o),s=n(50),u=n(19);!function(e){e[e.ALL=0]="ALL",e[e.CHINESE=7]="CHINESE",e[e.EU_USA=96]="EU_USA",e[e.JAPANESE=8]="JAPANESE",e[e.KOREAN=16]="KOREAN"}(r||(r={}));var l=function(){var e=i()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({url:"/song/detail",params:{ids:t.join(",")}});case 2:return n=e.sent,e.abrupt("return",null==n?void 0:n.songs.map((function(e){return Object(u.b)(e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=i()(c.a.mark((function e(){var t,n,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:r.ALL,e.next=3,Object(s.a)({url:"/top/song",params:{type:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=i()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({url:"/recommend/songs"});case 2:return t=e.sent,e.abrupt("return",t.recommend);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=i()(c.a.mark((function e(t){var n,r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.offset,a=t.limit,e.next=3,Object(s.a)({url:"/simi/playlist",params:{id:n,offset:r,limit:a}});case 3:return o=e.sent,e.abrupt("return",o.playlists);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=i()(c.a.mark((function e(t){var n,r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.offset,a=t.limit,e.next=3,Object(s.a)({url:"/simi/song",params:{id:n,offset:r,limit:a}});case 3:return o=e.sent,e.abrupt("return",o.songs);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=i()(c.a.mark((function e(t){var n,r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.offset,a=t.limit,e.next=3,Object(s.a)({url:"/comment/music",params:{id:n,offset:r,limit:a}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=i()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({url:"/lyric",params:{id:t}});case 2:return n=e.sent,e.abrupt("return",n.lrc);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.b={getSongDetail:l,getTopSongs:d,getRecommendSongs:m,getSimiSonglist:p,getSimiSong:f,getComments:v,getLyric:y}},66:function(e,t,n){"use strict";var r=n(48),a=n.n(r),c=n(49),o=n.n(c),i=n(50),s=function(){var e=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"/album",params:{id:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={getAlbum:s}},70:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(54),o=n(71),i=n.n(o);t.a=function(e){var t=e.showHeader,n=void 0===t||t,r=e.columns,o=e.data,s=e.onDoubleClick,u=void 0===s?c.b:s;return a.a.createElement("div",{className:i.a.root},n&&a.a.createElement("div",{className:i.a.header},r.map((function(e,t){var n=e.title,r=e.width;return a.a.createElement("div",{key:t,style:{width:r}},n)}))),(null==o?void 0:o.length)?a.a.createElement("div",{className:i.a.content},null==o?void 0:o.map((function(e,t){return a.a.createElement("div",{className:i.a.row,key:t,onDoubleClick:function(){return u(e)}},r.map((function(n,r){var c=n.key,o=n.width,i=n.render;return a.a.createElement("div",{key:r,style:{width:o}},i(e[c],e,t))})))}))):a.a.createElement("div",{className:i.a.empty},"暂无数据喔"))}},71:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',tipsHoverColor:"#7c7c7c",bgColor:"#f2f2f3",root:"src-components-Table-style-module__root--2Cmkj",header:"src-components-Table-style-module__header--2bK6b",content:"src-components-Table-style-module__content--yVmxs",row:"src-components-Table-style-module__row--2h8Wc",empty:"src-components-Table-style-module__empty--2glIo"}},82:function(e,t,n){"use strict";var r=n(48),a=n.n(r),c=n(9),o=n.n(c),i=n(49),s=n.n(i),u=n(47),l=n(0),d=n.n(l),m=n(46),p=n.n(m),f=n(70),v=n(66),y=n(58),b=n(19),g=n(8),h=n(83),w=n.n(h);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=d.a.useContext;t.a=function(e){var t=e.data,n=e.onPlayAll,r=E(g.d),c=E(g.c),o=E(g.b),i=[{title:"",key:"name",width:"100px",render:function(e,t,n){var a;return d.a.createElement("div",{className:w.a.operations},r.musicId===t.id?d.a.createElement("span",{className:w.a.isPlaying},d.a.createElement(u.a,{icon:(null===(a=o.state)||void 0===a?void 0:a.paused)?"volume-off":"volume-up",iconSize:14})):d.a.createElement("span",{className:w.a.index},(n||0)+1),d.a.createElement(u.a,{icon:"heart",iconSize:14}),d.a.createElement(u.a,{icon:"import",iconSize:14}))}},{title:"音乐标题",key:"name",width:"45%",render:function(e,t){var n=t.alias,a=t.id;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:p()(w.a.name,r.musicId===a&&w.a.active)},e),(null==n?void 0:n.length)?d.a.createElement("div",{className:w.a.alias},n.join(" ")):null)}},{title:"歌手",key:"artists",width:"15%",render:function(e){return null==e?void 0:e.map((function(e){return e.name})).join(" / ")}},{title:"专辑",key:"album",width:"20%",render:function(e){return null==e?void 0:e.name}},{title:"时长",key:"duration",width:"10%",render:function(e){return Object(y.b)(e/1e3)}}],l=function(){var e=s()(a.a.mark((function e(t){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.picUrl){e.next=6;break}return e.next=4,v.a.getAlbum(t.album.id);case 4:o=e.sent,r=null==o?void 0:o.album.blurPicUrl;case 6:c({type:g.a.PLAY,payload:{musicId:t.id,music:Object(b.a)(j({},t,{picUrl:r,duration:t.duration/1e3}))}}),n&&n();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement("div",null,d.a.createElement(f.a,{columns:i,data:t,onDoubleClick:l}))}},83:function(e,t,n){e.exports={colors:'"~styles/colors.module.css"',tipsColor:"#bababa",tipsHoverColor:"#7c7c7c",red:"#c7332f",alias:"src-components-MusicList-style-module__alias--OyjvX",operations:"src-components-MusicList-style-module__operations--l03Mx",index:"src-components-MusicList-style-module__index--d0Ufc",isPlaying:"src-components-MusicList-style-module__isPlaying--A-Utb",active:"src-components-MusicList-style-module__active--9Jz1_"}}}]);